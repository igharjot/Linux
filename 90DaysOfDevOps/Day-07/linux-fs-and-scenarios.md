# Day 07 – Linux File System Hierarchy & Scenario-Based Practice

# PART-1: Linux Directory Structure – Practice Notes (DevOps Focus)

## Core Directories (Must Know)

### `/` (root)
- **What it contains:** The top-level directory; every file and folder in Linux exists under this directory.
- **Observed from `ls -l /`:** `bin`, `boot`, `dev`, `etc`
- **I would use this when…** I need to understand the overall filesystem structure or access system-level directories.

---

### `/home`
- **What it contains:** Home directories for all normal users where personal files and configurations are stored.
- **Observed from `ls -l /home`:** `harjot`, `ubuntu`
- **I would use this when…** I’m working with user files, projects, or personal environment configurations.

---

### `/root`
- **What it contains:** The home directory of the root (administrator) user.
- **Observed from `ls -l /root`:** `.bashrc`, `.ssh`
- **I would use this when…** I’m logged in as root and performing administrative tasks.

---

### `/etc`
- **What it contains:** System-wide configuration files for services and the operating system.
- **Observed from `ls -l /etc`:** `passwd`, `ssh`
- **I would use this when…** I need to configure users, services, networking, or system settings.

---

### `/var/log`
- **What it contains:** Log files generated by the system and running services.
- **Observed from `ls -l /var/log`:** `syslog`, `auth.log`
- **I would use this when…** I’m troubleshooting errors, service failures, or security-related issues.

---

### `/tmp`
- **What it contains:** Temporary files created by applications and the system.
- **Observed from `ls -l /tmp`:** `systemd-private-*`
- **I would use this when…** I need short-lived storage that is automatically cleaned by the system.

---

## Additional Directories (Good to Know)

### `/bin`
- **What it contains:** Essential command binaries required for system boot and basic operations.
- **Observed from `ls -l /bin`:** `ls`, `cp`
- **I would use this when…** I need access to basic commands, especially in recovery or minimal environments.

---

### `/usr/bin`
- **What it contains:** User-level command binaries and most commonly used utilities.
- **Observed from `ls -l /usr/bin`:** `git`, `python3`
- **I would use this when…** I’m running normal user commands and development tools.

---

### `/opt`
- **What it contains:** Optional or third-party applications installed manually.
- **Observed from `ls -l /opt`:** `google`, `oracle`
- **I would use this when…** I install custom or third-party software outside the default package manager.

---

<img width="856" height="392" alt="image" src="https://github.com/user-attachments/assets/94e4dedf-1e18-4df4-8c27-f92f032dccdf" />

---

## Quick Mapping

- **Configuration files:** `/etc`
- **Log files:** `/var/log`
- **Essential binaries:** `/bin`
- **User binaries:** `/usr/bin`
- **User data:** `/home`
- **Temporary data:** `/tmp`

---

# PART-2: Scenario-Based Practice

**Scenario 1: Service Not Starting** 
```
A web application service called 'myapp' failed to start after a server reboot.
What commands would be run to diagnose the issue?
Write at least 4 commands in order.
```
```
Step 1: systemctl status myapp
Why: It shows if the service is active, failed, or stopped.

Step 2: systemctl is-enabled myapp
Why: To know if it will start automatically after reboot.

Step 3: sudo systemctl enablemyapp
Why: This command will enable the myapp.service.

Step 4: journalctl -u myapp -n 50
Why: This command lists all the activities of the myapp.service. 
```

---

**Scenario 2: High CPU Usage** 
```
Your manager reports that the application server is slow.
You SSH into the server. What commands would be run to identify
which process is using high CPU?
```
```
Commands used to identify which process is using high CPU are:
- top
- htop
- ps
- pidstat -u

Command used to kill the high CPU-consuming processes:
- kill <PID>
```

---

**Scenario 3: Finding Service Logs** 
```
A developer asks: "Where are the logs for the 'docker' service?"
The service is managed by systemd.
What commands would be used?
```
```
1️⃣ To view logs of a container-
docker logs <container_name_or_id>

2️⃣ Follow logs (live)
docker logs -f <container_name_or_id>

3️⃣ Search logs using grep
docker logs <container_name_or_id> | grep "error"

4️⃣ Show logs with timestamps
docker logs --timestamps <container_name_or_id>

5️⃣ Logs since a specific time
docker logs --since 10m <container_name_or_id>
docker logs --since "2026-02-06T10:00:00" <container_name_or_id>

6️⃣ Limit number of log lines
docker logs --tail 100 <container_name_or_id>

7️⃣ Combine options (real-world command)
docker logs --since 30m --tail 200 <container_name_or_id> | grep -i error

8️⃣ Find container ID or name
docker ps
docker ps -a

9️⃣ Search Docker daemon logs (host level)
sudo journalctl -u docker
sudo journalctl -u docker -f
sudo journalctl -u docker | grep error
```

---

**Scenario 4: File Permissions Issue** 
```
A script at /home/user/backup.sh is not executing.
When you run it: ./backup.sh
You get: "Permission denied"
What commands would you use to fix this?
```
**Step-by-step solution structure:**
```
Step 1: Check current permissions
Command: ls -l /home/user/backup.sh
Look for: -rw-r--r-- (notice no 'x' = not executable)

Step 2: Add execute permission
Command: chmod +x /home/user/backup.sh

Step 3: Verify
Command: ls -l /home/user/backup.sh
Look for: -rwxr-xr-x (notice 'x' = executable)

Step 4: Running it
Command: ./backup.sh
```

---
